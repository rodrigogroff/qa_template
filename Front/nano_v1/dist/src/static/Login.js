(()=>{"use strict";function e(e){return!("popupClose"!=$(e.target.parentElement)[0].id||(n($("#popUpSystem")[0],120),0))}function t(e,t){if(e)if(null==e.style&&(e.style={}),e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="inline-block",e.style.visibility="visible",t)var n=0,a=setInterval((function(){1<=(n+=50/t)&&(clearInterval(a),n=1),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")"}),50);else e.style.opacity=1,e.style.filter="alpha(opacity=1)"}function n(e,t){if(e)if(null==e.style&&(e.style={}),t)var n=1,a=setInterval((function(){0>=(n-=50/t)&&(clearInterval(a),n=0,e.style.display="none",e.style.visibility="hidden"),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")"}),50);else e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="none",e.style.visibility="hidden"}function a(e,n){var a=sessionStorage.getItem("myBtn");$("#loading").hide(),null!=a&&$(a).addClass("green"),t($("#popUpSystem")[0],50),$("#popUpSystemTitle").text(e),$("#popUpSystemText").text(n)}function i(e,t){$(e).attr("src","src/static/img/"+t)}function o(e,t,n,a){if(null==n&&(n="text"),null==t&&(t=20),null==a&&(a=4),"email"==n&&(t=99),null===e)return!1;if(void 0===e)return!1;if(""===e)return!1;var i=e.trim().length;if(0===i)return!1;if(i>t)return!1;if(i<a)return!1;switch(n){case"number":if(!/^\d*\.?\d*$/.test((e+"").toLowerCase()))return!1;break;case"email":if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test((e+"").toLowerCase()))return!1;break;case"name":if(3>i.length)return!1;for(var o,r=/^\d$/,s=0;s<e.length;s++)if(o=e[s],r.test(o))return!1;break;case"fullName":if(0>e.trim().indexOf(" "))return!1;for(var l="'!@#$%¨&*()-_+=,.;/<>:?`´^~{[]}",c=0;c<e.length;++c)for(var u=0;u<l.length;++u)if(e[c]==l[u])return!1}return!0}function r(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){var t=localStorage.getItem("appLanguage");return null==t&&(t=2,localStorage.setItem("appLanguage",t)),t=parseInt(t),(new I).langs[t].labels[e]}function c(e){var t=localStorage.getItem("appLanguage");return null==t&&(t=2,localStorage.setItem("appLanguage",t)),t=parseInt(t),(new x).langs[t].labels[e]}function u(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function d(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function f(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function m(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function p(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function g(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function v(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function h(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function y(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}$(document).ready((function(){$(".navi-menu-button").on("click",(function(){b()})),$(".nav-menu").on("click",(function(e){$(e.target).hasClass("nav-menu")&&w()})),$("nav.menu ul.main-menu>li>a").on("click",(function(e){var t=$(this);e.preventDefault(),t.parent().hasClass("active")?($(this).parent().removeClass("active"),t.find("span").removeClass("fa-angle-up").addClass("fa-angle-down")):setTimeout((function(){$("nav.menu ul.main-menu > li").removeClass("active"),$("nav.menu ul li a span").removeClass("fa-angle-up").addClass("fa-angle-down"),t.parent().addClass("active"),t.find("span").removeClass("fa-angle-down").addClass("fa-angle-up")}),50)})),$(".tab-item .fix-width .menu-item").css({width:100/$(".tab-item .fix-width .menu-item").length+"%"}),$(".wizard").length&&(k(),$(window).resize()),$(".animated-text").length&&C()})),$(".wrapper-inline").on("scroll",(function(){150<this.scrollTop?$("header.no-background").addClass("set-bg"):$("header.no-background").removeClass("set-bg")}));var b=function(){$(".navi-menu-button").addClass("focused"),t($("div.nav-menu")[0],50),setTimeout((function(){$("nav.menu").addClass("opened")}),50)},w=function(){$(".navi-menu-button").removeClass("focused"),$("nav.menu").removeClass("opened"),n($("div.nav-menu")[0],200)},k=function(){$(window).on("resize",(function(){$(".wizard .wizard-item").height($(window).height()-50)}))},C=function(){$(".vertical-center").css({"margin-top":$(window).height()/2-$(".vertical-center").height()/2}),$(".animated-text").removeClass("zero-opacity"),$("[data-transation]").each((function(){var e=$(this);e.addClass("hide");var t=e.attr("data-transation");""==t&&(t="fadeInDown");var n=parseInt(e.attr("data-start-time"));isNaN(n)&&(n=0),setTimeout((function(){e.addClass("animated "+t)}),n)}))};$(document).on("click",".expandable-item .expandable-header",(function(){if($(this).parent().hasClass("accordion"))if($(this).parent().hasClass("active"))$(this).parent().removeClass("active"),$(this).parent().find(".expandable-content").attr("style","");else{var e=$(this).parent().attr("data-group");$('[data-group="'+e+'"]').removeClass("active"),$('[data-group="'+e+'"]').find(".expandable-content").attr("style",""),$(this).parent().find(".expandable-content").css({"max-height":$(this).parent().find(".expandable-content")[0].scrollHeight}),$(this).parent().addClass("active")}else $(this).parent().hasClass("active")?$(this).parent().find(".expandable-content").attr("style",""):$(this).parent().find(".expandable-content").css({"max-height":$(this).parent().find(".expandable-content")[0].scrollHeight}),$(this).parent().toggleClass("active")})),$(document).on("click",".tab-item .menu-item",(function(e){e.preventDefault();var t=$(this).attr("data-content");$(this).parents(".tab-item").find(".menu-item").removeClass("active"),$(this).addClass("active"),$(this).parents(".tab-item").find(".content-item").removeClass("active"),$("#"+t).addClass("active")})),$(document).on("click",".post-item .post-share > i",(function(e){e.preventDefault(),$(this).parent().find(".social-links").fadeToggle("fast")})),$(document).on("click",'[data-dismiss="true"]',(function(){n($(this).parents(".popup-overlay")[0],100)})),$(document).on("click","[data-popup]",(function(){var e=$(this).attr("data-popup");t($("#"+e)[0],50)})),$(document).on("click",".popup-overlay",(function(e){$(e.target).hasClass("popup-overlay")&&n($(this)[0],60)})),$(document).on("click",'[data-search="open"]',(function(){t($(".search-form")[0],50),setTimeout((function(){$(".search-form input").focus()}),50)})),$(document).on("click",'[data-search="close"]',(function(){n($(".search-form")[0],60)}));var I=function e(){s(this,e),this.availableLanguages=["English","Español","Português BR","Português PT"],this.langs=[{labels:["Dashboard","User","Login","Register"]},{labels:["Panel de control","Usuario","Iniciar sesión","Registrarse"]},{labels:["Dashboard","Usuário","Login","Registrar"]},{labels:["Dashboard","Usuário","Login","Registrar"]}]},S=function(){function e(){s(this,e)}return function(e,t,n){n&&r(e,n)}(e,0,[{key:"getHtml",value:function(){var e={dashboardItem:l(0),userItem:l(1),loginItem:l(2),registerItem:l(3)};return'<div class="nav-menu" align=\'left\'><nav class="menu">                \n\t\t\t\t<div class="nav-container">\n\t\t\t\t\t<ul class="main-menu">\n\t\t\t\t\t\t<li class="active"><a href=\'/\' style=\'cursor:pointer\'>'.concat(e.dashboardItem,'</a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href="javascript:void(0);">').concat(e.userItem,"</a>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li><a href=\"/login\" style='cursor:pointer'>").concat(e.loginItem,'</a></li>\n\t\t\t\t\t\t\t\t<li><a href="/register" >').concat(e.registerItem,"</a></li>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\t\t\t\t\t\t\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t</div>")}}]),e}(),x=function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.availableLanguages=["English","Español","Português BR"],this.langs=[{labels:["Forgot your password?","Login","Not registered?","Sign up!","Email","Error","Invalid email!","Password","See password","Invalid password","Language","Keep me logged in","Dashboard","User","Login","Register","Next","Step","Inform your social ID","Social ID","Inform your full Name","Your full name","Previous","Inform your email","Confirmation","Invalid social ID!","Invalid name!","Numeric Code","Enter your code sent by email","Invalid number!"]},{labels:["¿Olvidó su contraseña?","Iniciar sesión","¿No estás registrado?","¡Regístrate!","Correo electrónico","Error","¡Correo electrónico no válido!","Contraseña","Ver contraseña","Contraseña no válida","Idioma","Mantenerme conectado","Panel de control","Usuario","Iniciar sesión","Registrarse","Siguiente","Paso","Informe su identificación social","Identificación social","Informe su nombre completo","Su nombre completo","Anterior","Informe su correo electrónico","Confirmación","¡ID social no válido!","¡Nombre no válido!","Código numérico","Ingrese su código enviado por correo electrónico","¡Número no válido!","Por favor, informe un correo electrónico registrado válido para recibir su última contraseña","¡Correo electrónico enviado!"]},{labels:["Esqueceu sua senha?","Login","Não registrado?","Inscreva-se!","Email","Erro","Email inválido","Senha","Ver senha","Senha inválida","Idioma","Mantenha-me conectado","Dashboard","Usuário","Login","Registrar","Próximo","Passo","Informe seu CPF","CPF","Informe nome completo","Seu nome completo","Anterior","Informe seu email","Confirmação","CPF inválido!","Nome inválido!","Código numérico","Informe seu código enviado por email","Numero inválido!"]}]},P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&u(e,n)}(e,0,[{key:"getHtml",value:function(e,t){return"<div class=\"form-row no-padding\">\n                <table width='100%'>\n                    <tr>\n                        <td width='20px'>\n                            <img src='src/static/img/email.png' alt='Email' id='fail".concat(e,"' style='padding-top:6px' />\n                        </td>\n                        <td>\n                            <input id=\"").concat(e,'" type="text" class="form-element" placeholder="').concat(t,'">\n                        </td>\n                    </tr>\n                </table>\n            </div>')}},{key:"validate",value:function(e,t,n,r){return o($("#"+e).val(),99,"email")?(i("#fail"+e,"email.png"),!0):(1==t.focus?$("#"+e).focus():(i("#fail"+e,"email_err.png"),1==t.msg&&a(n,r)),!1)}}]),e}(),L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&d(e,n)}(e,0,[{key:"getHtml",value:function(e,t,n){return"<div class=\"form-row no-padding\">                \n                <table width='100%'>\n                    <tr>\n                        <td valign='top' width='20px'>\n                            <img src='src/static/img/lock.png' alt='Password Field' id='fail".concat(e,"' style='padding-top:9px' />\n                        </td>\n                        <td valign='top' width='90%'>\n                            <input id=\"").concat(e,'" type="password" class="form-element" placeholder="').concat(t,"\">\n                        </td>\n                        <td valign='top' width='20px'>\n                            <img src='src/static/img/eye.png' alt='Password Field' id='seePass").concat(e,"' title='").concat(n,"' style='padding-top:9px' />                            \n                        </td>\n                    </tr>\n                </table>\n            </div>")}},{key:"btnSeePassword",value:function(e){$(e).removeAttr("type"),0<$("#seePass"+e)[0].src.indexOf("_err.png")?(i("#seePass"+e,"eye.png"),$("#"+e).attr("type","password")):(i("#seePass"+e,"eye_err.png"),$("#"+e).attr("type","text")),$("#"+e)[0].focus()}},{key:"validate",value:function(e,t,n,r){return o($("#"+e).val(),20,"password",4)?(i("#fail"+e,"lock.png"),!0):(1==t.focus?$("#"+e).focus():(i("#fail"+e,"lock_err.png"),1==t.msg&&a(n,r)),!1)}}]),e}(),E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&f(e,n)}(e,0,[{key:"getHtml",value:function(e,t,n,a){return a=null==a?"":"style="+a,"<div class=\"form-row no-padding\">\n            <input type='checkbox' id='".concat(e,"' ").concat(n," /><span style='font-size:small'>").concat(t,"</span>\n        </div>")}}]),e}(),T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&m(e,n)}(e,0,[{key:"getHtml",value:function(e,t,n){return"<".concat(e," id='").concat(e,"'>").concat(n,"</").concat(e,">")}}]),e}(),H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&p(e,n)}(e,0,[{key:"getHtml",value:function(){return'<div class="popup-overlay" id="popUpSystem">\n                <div class="popup-container" style=\'margin-top:50px;max-width:350px\'>\n                    <div class="popup-header">\n                        <h3 style=\'padding-left:32px\' class="popup-title" id=\'popUpSystemTitle\'></h3>\n                        <span id=\'popupClose\' class="popup-close" data-dismiss="true">X</span>\n                    </div>\n                    <div class="popup-content">\n                        <img src=\'src/static/img/error_big.png\' style=\'width:60px;height:60px\' alt=\' \' />\n                        <span style="font-size:64px;color:red;padding-top:32px;" id=\'popupSymbol\' class="fa fa-exclamation-circle"></span><br>\n                        <br><span id=\'popUpSystemText\' style="padding-top:16px;"></span><br><br>\n                    </div>\n                </div>\n            </div>'}}]),e}(),j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&g(e,n)}(e,0,[{key:"getHtml",value:function(e){for(var t="",n=0;n<e.length;++n)t+="<option value='"+(n+1).toString()+"'>"+e[n]+"</option>";return"<select class=\"form-element\" id='languageSel'>".concat(t,"</select>")}}]),e}(),N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&v(e,n)}(e,0,[{key:"elements",value:function(){return{formMail:"formMail",formPass:"formPass",keepLogged:"keepLogged",btnSubmit:"btnSubmit"}}},{key:"getHtml",value:function(){var e=this.elements(),t=c(11),n=c(0),a=c(1),i=c(2),o=c(3),r=c(23),s=c(7),l=c(8),u=c(1),d=c(10);return'<div style="width:296px" class="form-row-group-dark"><br>\n            <table><tr><td width=\'120px\'>'.concat(d,"</td><td width='50%'>").concat(j.getHtml((new x).availableLanguages),"</td></tr></table>\n            <h3 style='padding-top:4px;padding-bottom:4px'>").concat(u,'</h3>\n            <div class="form-row-group" align="left">                    \n                ').concat(P.getHtml(e.formMail,r),"\n                ").concat(L.getHtml(e.formPass,s,l),"\n                <br>\n                ").concat(E.getHtml(e.keepLogged,t,"checked"),'\n            </div>\n            <br>\n            <div class="form-row txt-center">\n                <a href="/forgot"> ').concat(T.getHtml("span","fp",n),' </a>\n            </div>\n            <div class="form-row">\n            <div align=\'center\' id="').concat(e.btnSubmit,'" class="button circle block green">\n                ').concat(function(e,t,n){return"<table align='center'><tr><td id='".concat(n,"' valign='middle'>").concat(e,"</td><td valign='middle'>").concat(t,"</td></tr></table>")}(a,function(e,t){return null==e&&(e="loading"),null==t&&(t="display:none;"),'<span class="loadingio-spinner-spinner-z7v4g50j1x" id=\'loading\' style="display:none;padding-top:3px">\n    <div class="ldio-hqohp5x0gi"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n    </div>\n</span>'}(),e.btnSubmit),'\n            </div>\n            <div class="form-row txt-center"> ').concat(i,' <a href="/register">').concat(o,"</a></div>\n            <br>\n        </div>").concat(H.getHtml())}},{key:"validate",value:function(e){var t=this.elements(),n=L.validate(t.formPass,e,c(5),c(9));return!(!P.validate(t.formMail,e,c(5),c(6))||!n||(document.activeElement.blur(),0))}}]),e}(),O=function(){function t(n){function i(){if("none"==$("#loading")[0].style.display){var e=N.elements(),t=function(e,t,n){return{email:e,password:t,_language:localStorage.getItem("appLanguage")}}(document.getElementById(e.formMail).value.trim(),document.getElementById(e.formPass).value.trim());N.validate({focus:!1,msg:!0,fields:t})&&(function(e){$("#loading").show(),null!=e&&($(e).removeClass("green"),$(e).addClass("light"),sessionStorage.setItem("myBtn",e))}("#"+e.btnSubmit),sessionStorage.mock&&function(e){sessionStorage.setItem("mockServer",e)}(JSON.stringify({payload:!0,obj:{token:"aaaa",user:{email:"aaa@aa",login:"aaaa",hsh:"_1"}}})),function(e,t){var n=sessionStorage.getItem("mockServer");if(n)return new Promise((function(e,t){setTimeout((function(){var a=JSON.parse(n);1==a.payload?e({ok:!0,payload:a.obj}):t({ok:!1,msg:a.obj.message})}),500)}));var a="http://localhost",i="18524",o=JSON.stringify(t);return new Promise((function(t,n){fetch(a+":"+i+"/api/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(e){400===e.status?e.json().then((function(e){n({ok:!1,msg:e.message})})):!0===e.ok?e.json().then((function(e){t({ok:!0,payload:e})})):e.json().then((function(e){t({ok:!1,msg:e.message})}))})).catch((function(e){t({ok:!1,msg:e.toString()})}))}))}("authenticate_v1",t).then((function(e){1==e.ok?function(e){$("#loading").hide();var t=function(e){return{token:e.token,user:{email:e.user.email,login:e.user.login,hsh:e.user.hsh}}}(e);(function(e){localStorage.setItem("token",e.token),localStorage.setItem("email",e.email),localStorage.setItem("user_name",e.userName)})(t),$("#"+N.elements().keepLogged).is(":checked")&&function(e,t){localStorage.setItem("hsh",t)}(0,t.user.hsh),location.href="/"}(e.payload):a(c(5),e.msg)})).catch((function(e){a(c(5),e.msg)})))}}(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.params=n,$(document).ready((function(){$("#languageSel").val(parseInt(localStorage.getItem("appLanguage"))+1)})),$(document).on("keydown",(function(e){switch(e.keyCode){case 9:N.validate({focus:!1,msg:!1,fields:null});break;case 13:i()}})),$(document).on("change","#languageSel",(function(){(function(e){return localStorage.getItem("appLanguage")!=e-1&&(localStorage.setItem("appLanguage",e-1),!0)})($("#languageSel").val())&&setTimeout((function(){location.href="/login"}),100)})),document.body.addEventListener("click",(function(t){if(!e(t)){var n=N.elements();switch($(t.target).attr("id")){case n.btnSubmit:i();break;case"seePass"+n.formPass:L.btnSeePassword(n.formPass)}}}))}return function(e,t,n){t&&h(e.prototype,t)}(t,[{key:"getHtml",value:function(){return N.getHtml()}}]),t}(),D=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.url=t,sessionStorage.mock=!0}return function(e,t,n){t&&y(e.prototype,t)}(e,[{key:"getHtml",value:function(){var e=this.url,t={id:null},n=e.split("/");return e="/"+n[1],2<=n.length&&(t.id=n[2]),'<div class="wrapper" align="center">'.concat(S.getHtml(),"<div class=\"wrapper-inline img shadow\" >\n                    <header id='appHeader'>\n                    <img src='src/static/img/topLogo.png' alt='Nano Logo' style='margin-top:-7px;margin-left:-30px' />\n                        <div class=\"navi-menu-button\"><em></em><em></em><em></em></div>\n                    </header>\n                    <main><section class=\"container\"><br>").concat(new O(t).getHtml(),"</section></main>\n                </div></div>")}}]),e}(),U=function(){document.querySelector("#myApp").innerHTML=new D(window.location.pathname).getHtml()};window.addEventListener("popstate",U),document.addEventListener("DOMContentLoaded",(function(){document.body.addEventListener("click",(function(e){e.target.matches("[data-link]")&&(e.preventDefault(),function(e){history.pushState(null,null,e),U()}(e.target.href))})),U()}))})();
//# sourceMappingURL=Login.js.map